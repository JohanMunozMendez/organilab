{% extends 'base.html' %}
{% load i18n laboratory static %}
{% load gtsettings %}
{% load urlname_tags %}
{% load organilab_tags %}
{% block pre_head %}
    {% define_true  "use_datatables" %}
    {% define_urlname_action 'procedure_list' %}
    {% define_urlname_action 'procedure_update' %}
    {% define_urlname_action 'delete_procedure' %}
    {% define_urlname_action 'add_steps_wrapper' %}
    {% define_urlname_action 'get_procedure' %}
    {% define_urlname_action 'procedure_create' %}
    {% define_urlname_action 'procedure_detail' %}
    {% define_urlname_action 'generate_reservation' %}
{% endblock %}
{% block title %}{% trans 'Procedure' %}{% endblock %}
{% block content %}
<div class="container-fluid">
	<h3 class="text-center">{% trans "Procedure template list" %}</h3>
	<table  id="procedure" class="table table-bordered table-hover"></table>
</div>
{% endblock %}

{% block js %}
	{{block.super}}
	<script>
        document.urls={
            create_procedure: "{% url 'academic:procedure_create' org_pk=org_pk lab_pk=laboratory %}",
            remove_procedure: "{% url 'academic:delete_procedure' lab_pk=laboratory org_pk=org_pk %}",
            get_procedures: "{% url 'academic:api-procedure-list' lab_pk=laboratory org_pk=org_pk %}"
        }
	</script>
    <script src="{% static 'js/procedures.js' %}?v={% get_organilab_version %}"></script>
    <script src="{% static 'js/procedure_list.js' %}?v={% get_organilab_version %}"></script>
{% endblock %}
