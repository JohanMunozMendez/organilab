{% extends 'base.html' %}
{% load i18n laboratory static %}
{% load gtsettings %}
{% load urlname_tags %}
{% load organilab_tags %}
{% block pre_head %}
    {% define_true  "use_datatables" %}
    {% define_urlname_action 'procedure_list' %}
    {% define_urlname_action 'procedure_update' %}
    {% define_urlname_action 'delete_procedure' %}
    {% define_urlname_action 'add_steps_wrapper' %}
    {% define_urlname_action 'get_procedure' %}
    {% define_urlname_action 'procedure_create' %}
    {% define_urlname_action 'procedure_detail' %}
    {% define_urlname_action 'generate_reservation' %}
{% endblock %}
{% block title %}{% trans 'Procedure' %}{% endblock %}
{% block content %}
<div class="clearfix">
    <a href="{% url 'academic:procedure_create' org_pk=org_pk lab_pk=laboratory %}" class="btn btn-success float-end">
        <i class="fa fa-plus"></i> {% trans 'Create procedure template' %}</a>
</div>
<table  id="procedure" class="table table-bordered table-hover"></table>
{% endblock %}

{% block js %}
	{{block.super}}
	<script>
	    document.remove_procedure="{% url 'academic:delete_procedure' lab_pk=laboratory org_pk=org_pk %}"
	    document.Procedure="{% url 'academic:api-procedure-list' lab_pk=laboratory org_pk=org_pk %}"
		var table=$("#datatable").DataTable();
		table.order( [ 0, 'desc' ] ).draw();

	</script>
    <script src="{% static 'js/procedures.js' %}?v={% get_organilab_version %}"></script>
    <script src="{% static 'js/procedure_list.js' %}?v={% get_organilab_version %}"></script>
{% endblock %}